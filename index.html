<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Get AI Coin — Gyro Sphere</title>
  <link rel="canonical" href="https://getaicoin.com/">

  <!-- Favicons -->
  <link rel="icon" href="/Logo.png" type="image/png">
  <link rel="apple-touch-icon" href="/Logo.png">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- three.js r121 (важна версия для DeviceOrientationControls) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/examples/js/controls/DeviceOrientationControls.js"></script>

  <style>
    :root{
      --bg:#0b1220; --text:#e8eefc; --muted:#9fb2d1;
      --card:#121b2e; --border:#1e2a46;
      --radius:16px; --shadow:0 20px 60px rgba(0,0,0,.35);
      --safe-bottom:max(env(safe-area-inset-bottom), 8px);
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; color:var(--text); background:var(--bg);
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      overflow:hidden; position:relative;
    }

    /* 3D слой */
    #stage{ position:fixed; inset:0; z-index:0 }
    #app{ position:absolute; inset:0 }
    canvas{ display:block; touch-action:none; -ms-touch-action:none; }

    /* Контент поверх; пропускаем свайпы к канвасу кроме кликабельного */
    .wrap{
      position:relative; height:100dvh;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-end;
      padding:24px 18px calc(28px + var(--safe-bottom));
      gap:18px; z-index:1; pointer-events:none;
    }
    .wrap .pill, .overlay, .panel, .btn { pointer-events:auto }

    .title{ font-weight:800; font-size:clamp(32px,6.2vw,64px); line-height:1.05; text-align:center; text-shadow:0 2px 20px rgba(0,0,0,.55) }
    .subtitle{ text-align:center; color:var(--muted); font-size:clamp(16px,3.6vw,22px); line-height:1.35; min-height:3em; text-shadow:0 2px 14px rgba(0,0,0,.45) }

    .row{ display:flex; gap:16px; flex-wrap:wrap; align-items:center; justify-content:center }
    .pill{
      display:inline-flex; align-items:center; gap:10px; padding:12px 18px;
      border-radius:999px; background:var(--card); color:var(--text); text-decoration:none;
      border:1px solid var(--border);
      box-shadow:0 6px 18px rgba(0,0,0,.25) inset, 0 6px 18px rgba(0,0,0,.15);
      font-weight:600; transition:transform .12s, background .12s, border-color .12s;
    }
    .pill:hover{ transform:translateY(-1px); background:#162241; border-color:#2a3a63 }
    .sep{ opacity:.35 }

    /* Кнопка гироскопа */
    #btnMotion{
      position:fixed; left:12px; bottom:calc(12px + var(--safe-bottom)); z-index:10;
      padding:10px 14px; border-radius:12px; background:#06101a; color:#27e1ff;
      border:1px solid #27e1ff33; font:600 14px/1 system-ui; cursor:pointer;
      box-shadow:0 0 1px #000 inset, 0 6px 18px #0008;
    }

    /* Модалки */
    .overlay{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:10 }
    .overlay.show{ display:flex }
    .veil{ position:absolute; inset:0; background:rgba(2,8,18,.55); backdrop-filter: blur(4px) }
    .panel{
      position:relative; width:min(740px, 94vw); max-height:min(80vh, 760px); overflow:auto;
      background:linear-gradient(180deg, rgba(20,29,48,.92), rgba(14,22,39,.92));
      border:1px solid #253252; border-radius:var(--radius); padding:22px 20px 18px; box-shadow:var(--shadow);
    }
    .panel h3{ margin:0 0 14px; font-size:clamp(18px, 4.4vw, 24px) }
    .panel p{ margin:0 0 16px; color:var(--muted) }
    .field{ display:grid; grid-template-columns:minmax(0,1fr) auto; gap:10px; align-items:center; margin:16px 0 }
    .field label{ grid-column:1 / -1; margin-bottom:4px; color:#b9c6e4; font-size:.82rem; letter-spacing:.1em; text-transform:uppercase; font-weight:700 }
    .copybox, input[type="text"], textarea{
      background:#0e1628; color:var(--text); border:1px solid #273455; border-radius:12px; padding:10px 12px; font:inherit;
    }
    textarea{ min-height:120px; resize:vertical }
    .btn{
      border:1px solid #2a3860; background:#13203a; color:var(--text);
      padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:700; min-height:40px;
      transition:transform .12s, background .12s, border-color .12s, opacity .12s;
    }
    .btn:hover{ transform:translateY(-1px); background:#18284d; border-color:#395298 }
    .toast{
      position:fixed; left:50%; bottom:16px; transform:translateX(-50%);
      background:#0f1a2e; color:#fff; padding:8px 12px; border-radius:999px; font-size:14px; z-index:20;
      border:1px solid #2b3961; box-shadow:var(--shadow); opacity:0; pointer-events:none; transition:opacity .15s;
    }
    .toast.show{ opacity:1 }
  </style>
</head>
<body>
  <!-- 3D фон -->
  <div id="stage"><div id="app"></div></div>

  <!-- плавающая кнопка гироскопа -->
  <button id="btnMotion">Enable Motion</button>

  <!-- Контент -->
  <main class="wrap" aria-label="Hero">
    <h1 class="title">$Get Ai Coin</h1>
    <div id="typed" class="subtitle" aria-live="polite"></div>

    <div class="row">
      <a class="pill" href="https://x.com/aicoin_eth" target="_blank" rel="noopener">Twitter X</a>
      <span class="sep">|</span>
      <a class="pill" href="https://t.me/AiCoin_ETH" target="_blank" rel="noopener">Telegram</a>
    </div>

    <div class="row">
      <button class="pill" id="openContact">Contact us</button>
      <span class="sep">|</span>
      <button class="pill" id="openDonate">For sponsors</button>
    </div>
  </main>

  <!-- Contact -->
  <div id="contactOverlay" class="overlay" role="dialog" aria-modal="true" aria-labelledby="contactTitle">
    <div class="veil"></div>
    <section class="panel" role="document">
      <h3 id="contactTitle">Contact us</h3>
      <p>Send us a message — we’ll get back to you.</p>
      <div class="field">
        <label for="cSubj">Subject</label>
        <input id="cSubj" type="text" placeholder="Topic of your message">
      </div>
      <div class="field" style="grid-template-columns:minmax(0,1fr);">
        <label for="cBody">Message</label>
        <textarea id="cBody" placeholder="Your text"></textarea>
      </div>
      <div class="row" style="justify-content:flex-end">
        <button class="btn" id="contactClose">Close</button>
        <button class="btn" id="contactSend">Send</button>
      </div>
    </section>
  </div>

  <!-- Sponsors -->
  <div id="donateOverlay" class="overlay" role="dialog" aria-modal="true" aria-labelledby="donateTitle">
    <div class="veil"></div>
    <section class="panel" role="document">
      <h3 id="donateTitle">For sponsors</h3>
      <div class="field">
        <label>ETH (ERC-20)</label>
        <div class="copybox" id="ethAddr">0x5Daf8D49b5cc17e4f5C575BeFc9880Fdc6A76037</div>
        <button class="btn" data-copy="#ethAddr">Copy</button>
      </div>
      <div class="field">
        <label>BTC (bech32)</label>
        <div class="copybox" id="btcAddr">bc1q0572x8gusvkyh9we8qxtas90mdupgfhsc2al4q</div>
        <button class="btn" data-copy="#btcAddr">Copy</button>
      </div>
      <div class="field">
        <label>USDT (TRC-20)</label>
        <div class="copybox" id="usdtAddr">TSn6jiZydc4sKTKqJbyMJhypdtNdFcF64c</div>
        <button class="btn" data-copy="#usdtAddr">Copy</button>
      </div>
      <div class="row" style="justify-content:flex-end">
        <button class="btn" id="donateClose">Close</button>
      </div>
    </section>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">Copied</div>

  <!-- three.js: сцена со сферой -->
  <script>
    const app = document.getElementById('app');

    // База
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(55, 1, 0.1, 100);
    const renderer = new THREE.WebGLRenderer({ antialias:true, alpha:false, powerPreference:'high-performance' });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio||1, 2));
    app.appendChild(renderer.domElement);
    renderer.domElement.style.touchAction = 'none';

    // Свет
    scene.add(new THREE.AmbientLight(0x0f2a3a, 0.9));
    const key = new THREE.DirectionalLight(0x1fd3ff, 0.45); key.position.set(2,3,4); scene.add(key);

    // Сфера (строго в центре мировой системы координат)
    const R = 2.2;
    const sphereGeom = new THREE.SphereBufferGeometry(R, 40, 26);
    const dotsMat = new THREE.PointsMaterial({ color:0x27e1ff, size:0.034, transparent:true, opacity:0.95 });
    const points  = new THREE.Points(sphereGeom, dotsMat);
    const lines   = new THREE.LineSegments(new THREE.WireframeGeometry(sphereGeom),
                     new THREE.LineBasicMaterial({ color:0x1287a5, transparent:true, opacity:0.35 }));
    points.position.set(0,0,0); lines.position.set(0,0,0);
    scene.add(points); scene.add(lines);

    // Управление
    const orbit = new THREE.OrbitControls(camera, renderer.domElement);
    orbit.enableDamping = true; orbit.dampingFactor = 0.06; orbit.rotateSpeed = 0.6;
    orbit.enablePan = false; orbit.enableZoom = false; orbit.target.set(0,0,0);

    // Центрирование и масштаб под экран (матем. центр — (0,0,0), визуально по вертикали тоже центр)
    function fit(){
      const w = window.innerWidth, h = window.innerHeight;
      camera.aspect = w/h; camera.updateProjectionMatrix();
      renderer.setSize(w, h, false);

      // заполняем ~44% высоты (диаметр), без смещений
      const fill = 0.44; // 0..1 доля высоты экрана, можно подрегулировать
      const fov  = camera.fov * Math.PI/180;
      const dist = (R / fill) / Math.tan(fov/2); // расстояние камеры для нужного видимого радиуса
      camera.position.set(0, 0, dist);
      orbit.update();

      // никаких x/y оффсетов — чистый центр
      points.position.set(0,0,0);
      lines.position.copy(points.position);
    }
    addEventListener('resize', fit, { passive:true });
    addEventListener('orientationchange', () => setTimeout(fit, 220), { passive:true });
    if (window.visualViewport) visualViewport.addEventListener('resize', fit, { passive:true });
    fit();

    // Гироскоп
    let gyroOn = false, deviceControls = null;
    const btn = document.getElementById('btnMotion');
    btn.addEventListener('click', async () => {
      if (gyroOn) { try{ deviceControls?.disconnect(); }catch(_){}
        gyroOn=false; orbit.enabled=true; btn.textContent='Enable Motion'; return; }
      try{
        if (typeof DeviceOrientationEvent !== 'undefined' &&
            typeof DeviceOrientationEvent.requestPermission === 'function') {
          const st = await DeviceOrientationEvent.requestPermission();
          if (st !== 'granted') throw new Error('denied');
        }
        if (typeof DeviceMotionEvent !== 'undefined' &&
            typeof DeviceMotionEvent.requestPermission === 'function') {
          try{ await DeviceMotionEvent.requestPermission(); }catch(_){}
        }
        deviceControls = new THREE.DeviceOrientationControls(camera);
        deviceControls.connect();
        gyroOn = true; orbit.enabled = false; btn.textContent = 'Gyro: ON';
      }catch(e){ alert('Motion permission not granted. Rotate with finger.'); }
    }, { passive:true });

    // Анимация
    let t=0, idle=true, idleTimer=null;
    const poke=()=>{ idle=false; clearTimeout(idleTimer); idleTimer=setTimeout(()=>idle=true, 2000); };
    renderer.domElement.addEventListener('pointerdown', poke, { passive:true });
    renderer.domElement.addEventListener('pointermove', poke, { passive:true });

    function tick(){
      requestAnimationFrame(tick);
      if (gyroOn && deviceControls) deviceControls.update();
      else if (idle){ points.rotation.y += 0.0021; lines.rotation.y += 0.0021; }
      t += 0.02; dotsMat.size = 0.03 + 0.01*(1+Math.sin(t));
      orbit.update(); renderer.render(scene, camera);
    }
    tick();
  </script>

  <!-- UI: тайпинг + модалки + копирование -->
  <script>
    const q = s => document.querySelector(s);
    const on = (el,ev,fn)=> el && el.addEventListener(ev,fn);

    // typing subtitle
    (function(){
      const full = "A social crypto project\nwhere people and AI decide together";
      const el = q('#typed'); let i=0;
      (function step(){ if(i<=full.length){ el.textContent = full.slice(0,i++); setTimeout(step,18); } })();
    })();

    // overlays
    const contactOverlay=q('#contactOverlay'), donateOverlay=q('#donateOverlay');
    const show = el=>el.classList.add('show'), hide=el=>el.classList.remove('show');
    on(q('#openContact'),'click',()=>show(contactOverlay));
    on(q('#openDonate'),'click',()=>show(donateOverlay));
    on(q('#contactClose'),'click',()=>hide(contactOverlay));
    on(q('#donateClose'),'click',()=>hide(donateOverlay));
    [contactOverlay,donateOverlay].forEach(ov=>{
      on(ov,'click',e=>{ if(e.target===ov || e.target.classList.contains('veil')) hide(ov); });
    });
    on(document,'keydown',e=>{ if(e.key==='Escape'){ hide(contactOverlay); hide(donateOverlay);} });

    // copy buttons + toast
    const toast=q('#toast');
    function showToast(txt='Copied'){ toast.textContent=txt; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),1100); }
    document.querySelectorAll('[data-copy]').forEach(btn=>{
      on(btn,'click',()=>{
        const el=q(btn.getAttribute('data-copy')); if(!el) return;
        const text=el.textContent.replace(/\s+/g,'').trim();
        (navigator.clipboard?.writeText(text) || Promise.reject())
          .then(()=>showToast())
          .catch(()=>{
            const ta=document.createElement('textarea'); ta.value=text; ta.style.position='fixed'; ta.style.opacity='0';
            document.body.appendChild(ta); ta.select();
            try{ document.execCommand('copy'); showToast(); }catch(_){}
            ta.remove();
          });
      });
    });
  </script>
</body>
</html>